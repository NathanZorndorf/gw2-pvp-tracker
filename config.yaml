# GW2 PvP Tracker Configuration

# Screen Capture
screen:
  monitor: 0  # Primary monitor
  capture_delay: 0.5  # Seconds to wait after hotkey press

# Computer Vision
cv:
  template_match_threshold: 0.7
  highlight_hsv_lower: [20, 50, 50]
  highlight_hsv_upper: [40, 255, 255]
  profession_match_threshold: 0.6
  scales: [0.8, 0.9, 1.0, 1.1, 1.2]

# OCR Settings
ocr:
  engine: "easyocr"  # "easyocr" (recommended) or "tesseract"
  tesseract_path: "C:/Program Files/Tesseract-OCR/tesseract.exe"  # Windows default
  name_psm: 7  # Single line mode (tesseract only)
  score_psm: 7
  score_whitelist: "0123456789"
  name_whitelist: "AÀÁÂÃÄÅÆBCÇDÐEÈÉÊËFGHIÌÍÎÏJKLMNÑOÒÓÔÕÖØŒPQRSẞTUÙÚÛÜVWXYÝŸZaàáâãäåæbcçdðeèéêëfghiìíîïjklmnñoòóôõöøœpqrsßtuùúûüvwxyýÿzZABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyzÁáÉéÍíÓóÚúÀàÈèÌìÒòÙùÄäËëÏïÖöÜüÇçÑñæ. "
  use_clahe: true  # CLAHE contrast enhancement (recommended for EasyOCR)
  resize_factor: 2.0  # Scale factor for OCR preprocessing

# Fuzzy Matching
fuzzy:
  name_match_threshold: 80  # 0-100

# Database
database:
  path: "data/pvp_tracker.db"
  backup_on_startup: true

# Hotkeys
hotkeys:
  match_start: "F8"
  match_end: "F9"
  exit: "esc"

# Paths
paths:
  templates: "templates/"
  screenshots: "screenshots/"
  logs: "logs/"

# Logging
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "logs/app.log"
  max_size_mb: 10
  backup_count: 5

# UI
ui:
  console_width: 60
  show_ascii_art: true
  color_enabled: true

  # Win Rate Overlay Settings
  overlay:
    enabled: true           # Show overlay on F8
    style: "popup"          # "popup" (centered dialog)
    width: 420              # Window width in pixels
    auto_close_on_f9: true  # Close overlay when match ends
    show_on_f8: true        # Show overlay when F8 is pressed

# Roster Region Coordinates (Based on 3840x2160 4K full screen images)
# NOTE: These are for 4K resolution. For 1080p, divide all values by 2.
# Ranked and Unranked Arena have different scoreboard layouts - auto-detected at runtime.
roster_regions:
  # Default arena type to use if auto-detection fails
  default_arena: "unranked"

  # Unranked Arena bounding boxes (from unranked-gameplay-1 samples)
  unranked:
    red_team_names:
      x_start: 1194
      x_end: 1807       # 1196 + 611 from CSV
      y_start: 707
      row_height: 60
      num_players: 5

    blue_team_names:
      x_start: 2034
      x_end: 2660       # 2039 + 621 from CSV
      y_start: 711
      row_height: 60
      num_players: 5

    red_score_box:
      x: 1944
      y: 588
      width: 248
      height: 96

    blue_score_box:
      x: 1678
      y: 588
      width: 246
      height: 98

    arena_type_box:
      x: 1239
      y: 440
      width: 217
      height: 76

  # Ranked Arena bounding boxes (from ranked-gameplay-1 samples)
  ranked:
    red_team_names:
      x_start: 1192
      x_end: 1799       # ~1192 + 607 from CSV
      y_start: 682      # ~25 pixels higher than unranked
      row_height: 58    # slightly tighter spacing
      num_players: 5

    blue_team_names:
      x_start: 2043
      x_end: 2660       # 2043 + 615 from CSV
      y_start: 678      # ~33 pixels higher than unranked
      row_height: 60
      num_players: 5

    red_score_box:
      x: 1760
      y: 555
      width: 152
      height: 111

    blue_score_box:
      x: 1944
      y: 555
      width: 144
      height: 111

    arena_type_box:
      x: 1235
      y: 412
      width: 197
      height: 70

# Debug Settings
debug:
  save_regions: true      # Save extracted regions as images for debugging
  output_dir: "data/debug"  # Directory for debug images

# Bold Text Detection Settings
bold_detection:
  method: "composite"  # composite, stroke_width, edge_density, brightness
  stroke_width_weight: 0.4
  edge_density_weight: 0.3
  brightness_weight: 0.3
  confidence_threshold: 0.15  # Minimum difference to consider bold (0.0-1.0)
